<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background-color: #d4edda; color: #155724; }
        .info { background-color: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>Authentication Test</h1>
    <div id="testResults"></div>
    
    <script>
        // Check if running on localhost
        function isLocalhost() {
            return window.location.hostname === 'localhost' || 
                   window.location.hostname === '127.0.0.1' || 
                   window.location.hostname === '';
        }
        
        function runTests() {
            const results = document.getElementById('testResults');
            
            // Test 1: Check if localhost detection works
            const isLocal = isLocalhost();
            results.innerHTML += `
                <div class="test-result ${isLocal ? 'success' : 'info'}">
                    <strong>Test 1:</strong> Localhost Detection - ${isLocal ? 'PASS' : 'FAIL'} 
                    (Hostname: ${window.location.hostname})
                </div>
            `;
            
            // Test 2: Check if authentication is bypassed on localhost
            const shouldRequireAuth = !isLocal;
            results.innerHTML += `
                <div class="test-result ${shouldRequireAuth ? 'info' : 'success'}">
                    <strong>Test 2:</strong> Authentication Required - ${shouldRequireAuth ? 'YES (Production)' : 'NO (Localhost)'}
                </div>
            `;
            
            // Test 3: Show current environment
            const environment = isLocal ? 'Development (Localhost)' : 'Production (Vercel/External)';
            results.innerHTML += `
                <div class="test-result info">
                    <strong>Test 3:</strong> Environment - ${environment}
                </div>
            `;
        }
        
        // Run tests when page loads
        document.addEventListener('DOMContentLoaded', runTests);
    </script>
</body>
</html>
